services:
  plugin.manager.drupaleasy_repositories:
    class: Drupal\drupaleasy_repositories\DrupaleasyRepositoriesPluginManager
    parent: default_plugin_manager

  drupaleasy_repositories.event_subscriber:
    class: Drupal\drupaleasy_repositories\EventSubscriber\DrupaleasyRepositoriesSubscriber
    arguments: ['@messenger', '@drupaleasy_repositories']
    tags:
      - { name: event_subscriber }

  drupaleasy_repositories:
    class: Drupal\drupaleasy_repositories\DrupaleasyRepositoriesService
    arguments: ['@plugin.manager.drupaleasy_repositories', '@config.factory']
